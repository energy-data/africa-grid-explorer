!function e(t,a,o){function i(r,s){if(!a[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(n)return n(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var c=a[r]={exports:{}};t[r][0].call(c.exports,function(e){var a=t[r][1][e];return i(a?a:e)},c,c.exports,e,t,a,o)}return a[r].exports}for(var n="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({"/home/travis/build/energy-data/africa-grid-explorer/app/assets/scripts/config.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("lodash.defaultsdeep"),i=function(e){return e&&e.__esModule?e:{default:e}}(o),n={local:e("./config/local.js"),logo:e("./config/logo.js"),production:e("./config/production.js"),staging:e("./config/staging.js")},r=n.local||{};(0,i.default)(r,n.production),a.default=r.default},{"./config/local.js":"/home/travis/build/energy-data/africa-grid-explorer/app/assets/scripts/config/local.js","./config/logo.js":"/home/travis/build/energy-data/africa-grid-explorer/app/assets/scripts/config/logo.js","./config/production.js":"/home/travis/build/energy-data/africa-grid-explorer/app/assets/scripts/config/production.js","./config/staging.js":"/home/travis/build/energy-data/africa-grid-explorer/app/assets/scripts/config/staging.js","lodash.defaultsdeep":"lodash.defaultsdeep"}],"/home/travis/build/energy-data/africa-grid-explorer/app/assets/scripts/config/local.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={environment:"development"}},{}],"/home/travis/build/energy-data/africa-grid-explorer/app/assets/scripts/config/logo.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=["╭──────────────────────────────────────╮","│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░█░░░░░░░░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░█░░█░░░░█░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░██░░█░░██░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░███░█░███░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░███░████░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░███████░░░░░░█░░░█░░░░░│","│░░░░░░░░██░░░░░██████░░░░░██░░██░░░░░░│","│░░░░░█░░░██░░░░░█████░░░███░███░░░░░░░│","│░░░░░░██░░███░░░█████░░██████░░░░░░░░░│","│░░░░░░░░██░███░░█████░░████░░░░░░░░░░░│","│░░░░░░░░░██████░░████░███░░░░░░░░░░░░░│","│░░░░░░░░░░░░████░███░░█░░░░░░░░░░░░░░░│","│░░░░░░█████░░░░████░░░░░░░░░░░░░░░░░░░│","│░░░░░░░░██████░░░██░░░█░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░████░█████░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░██████░░░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░░░███░░░░░░░░░░░░░░░░░░│","╰──────────────────────────────────────╯"],i=[];o=o.map(function(e,t){return e.replace(/(^|[|│])|(░+)|(█+)/g,function(e,t,a,o){return t?(i.push("black"),"%c"+t):a?(i.push("#cf3f02"),"%c"+a):o||!e?(i.push("black"),"%c"+(o||"")):void 0})}).concat(["                                        ","%c           DEVELOPMENT SEED             "]).join("\n"),i=i.map(function(e){return"color: "+e}).concat(["color: #cf3f02; font-weight: bold"]),a.default=[o].concat(i)},{}],"/home/travis/build/energy-data/africa-grid-explorer/app/assets/scripts/config/production.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("./logo"),i=function(e){return e&&e.__esModule?e:{default:e}}(o);a.default={environment:"production",consoleMessage:i.default,mapboxToken:"pk.eyJ1IjoiZ3NkcG0iLCJhIjoiY2p2MmZscXB2MjR3dTRkbGpkZ3pva3g0dyJ9.u-P7Pl9qnHCZiQj-2oRzFQ",energydataDataset:"africa-electricity-transmission-and-distribution-grid-map-2017"}},{"./logo":"/home/travis/build/energy-data/africa-grid-explorer/app/assets/scripts/config/logo.js"}],"/home/travis/build/energy-data/africa-grid-explorer/app/assets/scripts/config/staging.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={environment:"staging"}},{}],"/home/travis/build/energy-data/africa-grid-explorer/app/assets/scripts/main.js":[function(e,t,a){"use strict";var o=e("./config"),i=function(e){return e&&e.__esModule?e:{default:e}}(o);if(console.log.apply(console,i.default.consoleMessage),console.log("Environment",i.default.environment),mapboxgl.accessToken=i.default.mapboxToken,mapboxgl.supported()){var n=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/light-v9",center:[60,2.867],zoom:1.5});!function(e,t){e.on("load",function(){fetch("https://energydata.info/api/3/action/package_show?id="+t).then(function(e){return e.json()}).then(function(e){return e.result.resources[0].tilejson}).then(function(e){return fetch(e)}).then(function(e){return e.json()}).then(function(t){var a=t;a.type="vector",a.attribution='<a href="http://energydata.info">energydata.info</a>',e.addSource("data",a),e.fitBounds([[a.bounds[0],a.bounds[1]],[a.bounds[2],a.bounds[3]]],{padding:20}),e.addControl(new mapboxgl.NavigationControl,"top-left"),e.addLayer({id:"existing",type:"line",source:"data","source-layer":"data_layer",layout:{visibility:"visible","line-join":"round","line-cap":"round"},filter:["==","status","Existing"],paint:{"line-color":{property:"voltage_kV",type:"interval",stops:[[0,"#002f54"],[.001,"#22a6f5"],[66,"#002f54"]]},"line-width":{stops:[[0,1],[5,2],[10,3],[15,5]]}}},"poi-scalerank2"),e.addLayer({id:"planned",type:"line",source:"data","source-layer":"data_layer",layout:{visibility:"visible","line-join":"round","line-cap":"round"},filter:["in","status","Planned","Construction"],paint:{"line-opacity":.7,"line-dasharray":[2,5],"line-color":{property:"voltage_kV",type:"interval",stops:[[0,"#002f54"],[.001,"#22a6f5"],[66,"#002f54"]]},"line-width":{stops:[[0,1],[5,2],[10,3],[15,5]]}}},"poi-scalerank2"),e.on("click",function(t){var a=n.queryRenderedFeatures(t.point,{layers:["existing","planned"]});if(a.length){var o=a[0];(new mapboxgl.Popup).setLngLat(n.unproject(t.point)).setHTML("<dl>\n            <dt>Status</dt><dd>"+o.properties.status+"</dd>\n            <dt>Voltage</dt><dd>"+o.properties.voltage_kV+"kV</dd>\n          </dl>").addTo(e)}}),e.on("mousemove",function(t){var a=n.queryRenderedFeatures(t.point,{layers:["existing","planned"]});e.getCanvas().style.cursor=a.length?"pointer":""}),document.getElementById("filter").addEventListener("click",function(e){if(e.target&&"status-filter"===e.target.className){var t=e.target.innerText.toLowerCase();switch(e.preventDefault(),t){case"all":n.setLayoutProperty("existing","visibility","visible"),n.setLayoutProperty("planned","visibility","visible");break;case"planned":n.setLayoutProperty("existing","visibility","none"),n.setLayoutProperty("planned","visibility","visible");break;case"existing":n.setLayoutProperty("existing","visibility","visible"),n.setLayoutProperty("planned","visibility","none")}document.querySelectorAll(".status-filter").forEach(function(e){e.classList.remove("active")}),e.target.classList.add("active")}})})})}(n,i.default.energydataDataset)}else document.getElementById("map").innerHTML="Your browser does not support Mapbox GL";document.getElementById("modal-open").addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("about-modal");t.classList.remove("modal-leave"),t.classList.remove("modal-leave-active"),t.classList.add("modal-enter"),t.classList.add("modal-enter-active")}),Array.prototype.slice.call(document.querySelectorAll("#about-modal, #modal-dismiss")).forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("about-modal");t.classList.remove("modal-enter"),t.classList.remove("modal-enter-active"),t.classList.add("modal-leave"),t.classList.add("modal-leave-active")})}),document.getElementById("about-modal-inner").addEventListener("click",function(e){e.stopPropagation()})},{"./config":"/home/travis/build/energy-data/africa-grid-explorer/app/assets/scripts/config.js"}]},{},["/home/travis/build/energy-data/africa-grid-explorer/app/assets/scripts/main.js"]);